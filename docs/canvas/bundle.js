(()=>{"use strict";var n={878:(n,e,t)=>{t.d(e,{A:()=>c});var o=t(620),r=t.n(o),a=t(69),i=t.n(a)()(r());i.push([n.id,"/*THEME: Catppuccin Latte*/\n@media (prefers-color-scheme: light) {\n  :root {\n    --rosewater: 220, 138, 120;\n    --flamingo: 221, 120, 120;\n    --pink: 234, 118, 203;\n    --mauve: 136, 57, 239;\n    --red: 210, 15, 57;\n    --maroon: 230, 69, 83;\n    --peach: 254, 100, 11;\n    --yellow: 223, 142, 29;\n    --green: 64, 160, 43;\n    --teal: 23, 146, 153;\n    --sky: 4, 165, 229;\n    --sapphire: 32, 159, 181;\n    --blue: 30, 102, 245;\n    --lavender: 114, 135, 253;\n    --text: 76, 79, 105;\n    --subtext1: 92, 95, 119;\n    --subtext0: 108, 111, 133;\n    --overlay2: 124, 127, 147;\n    --overlay1: 140, 143, 161;\n    --overlay0: 156, 160, 176;\n    --surface2: 172, 176, 190;\n    --surface1: 188, 192, 204;\n    --surface0: 204, 208, 218;\n    --base: 239, 241, 245;\n    --mantle: 230, 233, 239;\n    --crust: 220, 224, 232;\n  }\n}\n\n/*THEME: Catppuccin Mocha*/\n@media (prefers-color-scheme: dark) {\n  :root {\n    --rosewater: 245, 224, 220;\n    --flamingo: 242, 205, 205;\n    --pink: 245, 194, 231;\n    --mauve: 203, 166, 247;\n    --red: 243, 139, 168;\n    --maroon: 235, 160, 172;\n    --peach: 250, 179, 135;\n    --yellow: 249, 226, 175;\n    --green: 166, 227, 161;\n    --teal: 148, 226, 213;\n    --sky: 137, 220, 235;\n    --sapphire: 116, 199, 236;\n    --blue: 137, 180, 250;\n    --lavender: 180, 190, 254;\n    --text: 205, 214, 244;\n    --subtext1: 186, 194, 222;\n    --subtext0: 166, 173, 200;\n    --overlay2: 147, 153, 178;\n    --overlay1: 127, 132, 156;\n    --overlay0: 108, 112, 134;\n    --surface2: 88, 91, 112;\n    --surface1: 69, 71, 90;\n    --surface0: 49, 50, 68;\n    --base: 30, 30, 46;\n    --mantle: 24, 24, 37;\n    --crust: 17, 17, 27;\n  }\n}\n\n/*Smartphones (Portrait):*/\n@media (min-width: 0px) {}\n\n/*Smartphones (Landscape):*/\n@media (min-width: 400px) {}\n\n/*Tablets (Portrait):*/\n@media (min-width: 600px) {}\n\n/*Tablets (Landscape):*/\n@media (min-width: 800px) {}\n\n/*Big Landscape Tablets, Laptops, and Desktops:*/\n@media (min-width: 1000px) {}\n\n/*Hi-Res Laptops and Desktops:*/\n@media (min-width: 1200px) {}\n",""]);const c=i},814:(n,e,t)=>{t.d(e,{A:()=>l});var o=t(620),r=t.n(o),a=t(69),i=t.n(a),c=t(878),s=i()(r());s.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap);"]),s.push([n.id,"@import url(https://www.nerdfonts.com/assets/css/webfont.css);"]),s.i(c.A),s.push([n.id,'/*FONT: JetBrainsMono*/\n\n/* Default Values */\n* {\n  outline: none;\n  color: rgba(var(--text));\n  font-family: "JetBrains Mono", monospace;\n}\n\n*::-webkit-scrollbar {\n  width: 1vw;\n}\n\n*::-webkit-scrollbar-track {\n  background: rgba(var(--surface0));\n}\n\n*::-webkit-scrollbar-thumb {\n  background: rgba(var(--crust));\n}\n\n*:focus {\n  outline: 2px dotted rgba(var(--lavender)) !important;\n}\n\nhtml,\nbody {\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  background: rgba(var(--base));\n}\n\nbody {\n  min-height: 100vh;\n}\n\nheader {\n  display: flex;\n  position: sticky;\n  top: 0;\n  flex-direction: column;\n  gap: 2vh;\n  background: rgba(var(--base));\n  padding: 1vh 2vw;\n}\n\nh1 {\n  margin: 1vh 2vw;\n  font-weight: 800;\n  font-size: 60px;\n}\n\nh4 {\n  margin: 0 0 2vh 0;\n  font-style: italic;\n  font-weight: 100;\n  font-size: 20px;\n}\n\nimg {\n  width: auto;\n  height: 100px;\n}\n\ninput {\n  border: 2px solid rgba(var(--crust));\n  border-radius: 100vh;\n  background: rgba(var(--mantle));\n  padding: 0.5vh 2vw;\n  height: 16px;\n  color: rgba(var(--text));\n  font-weight: 200;\n  font-size: 14px;\n}\n\ninput::-webkit-input-placeholder {\n  color: rgba(var(--text), 0.8);\n  font-size: 14px;\n}\n\n.row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n#which-key {\n  display: grid;\n  position: fixed;\n  bottom: 2vh;\n  left: 50%;\n  grid-template-columns: auto auto auto;\n  transform: translate(-50%, 0);\n  border-radius: 2vh;\n  background: rgba(var(--crust));\n  padding: 1vh 2vw;\n  width: 80%;\n  font-weight: 300;\n  font-size: 16px;\n}\n\n#which-key span {\n  color: rgba(var(--blue));\n}\n\n#which-key i {\n  color: rgba(var(--surface2));\n}\n\n#which-key div {\n  color: rgba(var(--mauve));\n}\n\n#which-key .folder {\n  color: rgba(var(--peach));\n}\n\n.code-key {\n  color: rgba(var(--mauve));\n}\n\n.code-fn {\n  color: rgba(var(--blue));\n}\n\n.code-import {\n  color: rgba(var(--lavender));\n}\n\n.code-str {\n  color: rgba(var(--green));\n}\n\n.code-builtin {\n  color: rgba(var(--peach));\n}\n\n.marked {\n  background: rgba(var(--yellow), 0.2) !important;\n}\n\n.marked-highlight {\n  color: rgba(var(--yellow)) !important;\n  font-weight: 800;\n}\n\n.btn-row {\n  display: flex;\n  flex-direction: row;\n  gap: 0.2vw;\n  padding: 2vh 0;\n}\n\n.btn-row>button {\n  flex: 1;\n  border: none;\n  border-bottom: 4px solid rgba(var(--crust));\n  border-radius: 1vh;\n  background: rgba(var(--surface0));\n  min-width: 10%;\n  height: 30px;\n  overflow: hidden;\n  font-size: 20px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.btn-row>.trailing-btn {\n  min-width: 30px;\n  max-width: 50px;\n  font-size: 16px;\n}\n',""]);const l=s},352:(n,e,t)=>{t.d(e,{A:()=>l});var o=t(620),r=t.n(o),a=t(69),i=t.n(a),c=t(814),s=i()(r());s.i(c.A),s.push([n.id,"body {\n  margin: 0;\n  padding: 0;\n  height: 100vh;\n}\n\nmain {\n  display: flex;\n  flex-direction: row;\n  gap: 0.5vw;\n  height: 100%;\n}\n\n.side-panel {\n  display: flex;\n  flex: 5;\n  flex-direction: column;\n  align-items: center;\n  gap: 1vh;\n  padding: 2vh 0;\n}\n\n.side-panel>button {\n  border: none;\n  border-bottom: 4px solid rgba(var(--crust));\n  border-radius: 1vh;\n  background: rgba(var(--surface0));\n  width: 40px;\n  height: 40px;\n  overflow: hidden;\n  font-size: 20px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.side-panel>button>i {\n  position: relative;\n  top: calc(50% - 18px);\n  color: rgba(var(--text));\n}\n\n#canvas-container {\n  flex: 95;\n  padding-top: 1vh;\n  height: 80vh;\n}\n\ncanvas {\n  border-radius: 2vh;\n  background: rgba(var(--mantle));\n}\n\n#color-selection {\n  display: none;\n  position: absolute;\n  top: 46%;\n  left: 5%;\n  flex-direction: row;\n  border-radius: 2vh;\n  background: rgba(var(--surface0));\n  padding: 1vh 1vw;\n}\n\n.color-patch {\n  border: none;\n  border-radius: 100vh;\n  background: rgba(var(--base));\n  width: 5vh;\n  height: 5vh;\n}\n",""]);const l=s},69:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);o&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},620:n=>{n.exports=function(n){return n[1]}},646:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var a={},i=[],c=0;c<n.length;c++){var s=n[c],l=o.base?s[0]+o.base:s[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=t(u),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var f=r(m,o);o.byIndex=c,e.splice(c,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var c=t(a[i]);e[c].references--}for(var s=o(n,r),l=0;l<a.length;l++){var d=t(a[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=s}}},13:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},506:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},942:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},959:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},215:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return n[o](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var o=e.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!n||!/^http(s?):/.test(n));)n=o[r--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n+"../"})(),t.nc=void 0,(()=>{var n=t(646),e=t.n(n),o=t(959),r=t.n(o),a=t(13),i=t.n(a),c=t(942),s=t.n(c),l=t(506),d=t.n(l),u=t(215),p=t.n(u),m=t(352),f={};f.styleTagTransform=p(),f.setAttributes=s(),f.insert=i().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=d(),e()(m.A,f),m.A&&m.A.locals&&m.A.locals;const h=["Alt","Control","Shift"];let v={j:{name:"Internal Links",h:{name:"Home",action:()=>g("/")},c:{name:"Canvas",action:()=>g("/canvas/")},d:{name:"Dev Tools",action:()=>g("/dev-tools/")},e:{name:"Edge Shortcuts",action:()=>g("/edge/")},k:{name:"Keyboard Layout",action:()=>g("/layout/")},t:{name:"Todo Lists",action:()=>g("/todo/")},v:{name:"Vim Shortcuts",action:()=>g("/vim/")},w:{name:"Vimium Shortcuts",action:()=>g("/vimium/")}},f:{name:"External Links",j:{name:"Programming",a:{name:"Advent of Code",action:()=>y("https://adventofcode.com")},e:{name:"Exercism",action:()=>y("https://exercism.org")},g:{name:"GitHub",action:()=>y("https://github.com/HonsonCooky")},s:{name:"Stack Overflow",action:()=>y("https://stackoverflow.com")}},k:{name:"Management",c:{name:"GCalendar",action:()=>y("https://calendar.google.com")},d:{name:"GDrive",action:()=>y("https://drive.google.com")},g:{name:"Gmail",action:()=>y("https://mail.google.com")}},l:{name:"Socials",d:{name:"Disney+",action:()=>y("https://www.disneyplus.com/search")},i:{name:"Instagram",action:()=>y("https://www.instagram.com")},m:{name:"Messenger",action:()=>y("https://www.messenger.com")},n:{name:"Netflix",action:()=>y("https://www.netflix.com/browse")},o:{name:"Neon",action:()=>y("https://www.neontv.co.nz")},r:{name:"Reddit",action:()=>y("https://www.reddit.com")},s:{name:"Snapchat",action:()=>y("https://web.snapchat.com")},y:{name:"Youtube",action:()=>y("https://www.youtube.com/")}},";":{name:"Work",a:{name:"Azure Portal",action:()=>y("https://portal.azure.com/#home")},b:{name:"Betterworks",action:()=>y("https://app.betterworks.com")},c:{name:"Confluence",action:()=>y("https://zenergy.atlassian.net/wiki/home")},d:{name:"DevOps",action:()=>y("https://dev.azure.com/zenergy")},g:{name:"GitHub",action:()=>y("https://github.com/zenergy")},j:{name:"Jira",action:()=>y("https://zenergy.atlassian.net/jira/projects")},s:{name:"School",action:()=>y("https://zacademyelearning.litmos.com")}}}};function g(n){if(window.origin.includes("extension")){const e=document.getElementsByTagName("script"),t=e[e.length-1].src;window.location.href=t.replace(/docs.*/,`docs${n}index.html`)}else window.location.href=`${window.location.origin}${n}`}function y(n){window.location.href=n}function b(){const n="which-key";let e=[];function t(t){if(h.includes(t.key))return;e=[];const o=document.getElementById(n);o&&document.body.removeChild(o)}window.addEventListener("keydown",(function(o){if("INPUT"!==document.activeElement.tagName&&!document.activeElement.classList.contains("layout")&&!document.activeElement.classList.contains("list")&&"CANVAS"!==document.activeElement.tagName)if(" "!==o.key&&" "!==e[0])switch(o.key){case"<":window.history.back();break;case">":window.history.forward();break;case"j":window.scrollBy({top:50,behavior:"smooth"});break;case"k":window.scrollBy({top:-50,behavior:"smooth"});break;case"J":window.scrollBy({top:window.innerHeight,behavior:"smooth"});break;case"K":window.scrollBy({top:-window.innerHeight,behavior:"smooth"});break;case"/":const n=Array.from(document.activeElement.querySelectorAll("input"));if(0===n.length)return;let e;if(1===n.length)e=n[0];else for(const t of n)if("none"!==t.closest("div").style.display){e=t;break}e&&(o.preventDefault(),e.focus({preventScroll:!0}));break;case"?":break;default:t(o),document.activeElement!=document.body&&document.activeElement.blur(),v[o.key]?.action&&v[o.key].action()}else!function(o){if(h.includes(o.key))return;o.preventDefault(),"Backspace"===o.key?e.pop():e.push(o.key);let r=v;for(const n of e.slice(1))r=r[n];if(r)return r.action?(r.action(),void t(o)):void function(e){let t=document.getElementById(n);t?t.innerHTML="":(t=document.createElement("div"),t.id=n,document.body.appendChild(t));const o=Object.entries(e);o.sort(((n,e)=>n[0].localeCompare(e[0])));for(const[n,e]of o){if(!e.name)continue;const o=document.createElement("div");e.action||o.classList.add("folder"),o.id=n,o.innerHTML=`<span>${n} <i class="nf nf-oct-arrow_right"></i> </span>${e.name}`,t.appendChild(o)}}(r);t(o)}(o)}))}const w=t.p+"dda3a79d4e13788f4507.png";window.addEventListener("load",(function(){Array.from(document.querySelectorAll(".logo")).forEach((n=>n.src=w)),b()})),window.addEventListener("load",(function(){let n,e=!1,t="--text";const o="canvas-drawing",r=localStorage.getItem(o),a=r?Array.from(JSON.parse(r)):[],i=20,c=document.getElementById("canvas-side-panel"),s="rgba(var(--teal))";Array.from(c.children).forEach(((n,e)=>{n.addEventListener("click",(function(){Array.from(c.children).forEach((n=>{"color-select-btn"!=n.id?n.querySelector("i").style.color="rgba(var(--text))":n.querySelector("i").style.color=`rgba(var(${t}))`})),n.querySelector("i").style.color=s})),0===e&&n.click()}));const l=document.getElementById("color-selection");function d(){return Array.from(c.children).filter((n=>n.querySelector("i").style.color===s))[0]?.id.split("-")[0]}Array.from(l.children).forEach((e=>{e.style.background=`rgba(var(--${e.id}))`,e.addEventListener("click",(()=>{t=`--${e.id}`,document.getElementById("color-select-btn").querySelector("i").style.color=`rgba(var(${t}))`,null!=n&&(a[n]={...a[n],color:t},localStorage.setItem(o,JSON.stringify(a)),S()),l.style.display="none"}))}));const u=document.getElementById("draw-canvas"),p=u.parentElement;u.width=p.clientWidth-10,u.height=p.clientHeight-10;const m=u.getContext("2d");function f(n){return{x:n.clientX-n.target.offsetLeft,y:n.clientY-n.target.offsetTop}}function h(n,e,t){const o=Math.min(e,t),r=Math.max(e,t);return n>=o&&n<=r}function v(n){if("rect"===n.type||"circle"===n.type){const{from:e,to:t}=n;return e&&t?{x1:e.x,y1:e.y,x2:t.x,y2:t.y}:{}}if("text"===n.type){const e=n.from.x+m.measureText(n.text).width,t=n.from.y-(i+2),o=t+i+10;return{x1:n.from.x,y1:t,x2:e,y2:o}}if("draw"===n.type){if(!n.path||n.path.length<1)return{};let[e,t,o,r]=[void 0,void 0,void 0,void 0];for(const a of n.path)(!e||a.x<e)&&(e=a.x),(!t||a.y<t)&&(t=a.y),(!o||a.x>o)&&(o=a.x),(!r||a.y>r)&&(r=a.y);return{x1:e,y1:t,x2:o,y2:r}}return{}}function g(n){const e=getComputedStyle(document.documentElement).getPropertyValue(n),[t,o,r]=e.split(",").map((n=>Number(n)));return`#${((1<<24)+(t<<16)+(o<<8)+r).toString(16).slice(1)}`}function y(n){if(!n.to)return[];let e=n.to.x-n.from.x,t=n.to.y-n.from.y;if(n.shiftLocked){const[n,o]=[e>0,t>0],r=Math.max(Math.abs(e),Math.abs(t));e=n?r:-r,t=o?r:-r}return[e,t]}function b(n){m.beginPath();const[e,t]=y(n);e&&t&&(m.roundRect(n.from.x,n.from.y,e,t,window.innerHeight/50),m.stroke())}const w=n=>n*(Math.PI/180);function x(n){const[e,t]=y(n);if(!e||!t)return;const o=e/2,r=t/2,a=n.from.x+o,i=n.from.y+r;m.beginPath(),m.ellipse(a,i,Math.abs(o),Math.abs(r),0,w(0),w(360)),m.stroke()}function k(n){if(n.path&&!(n.path.length<1)){m.beginPath(),m.moveTo(n.path[0].x,n.path[0].y);for(const e of n.path.slice(1))m.lineTo(e.x,e.y);m.stroke()}}function E(n){n.text&&(m.font=`${i}px JetBrains Mono`,m.fillText(n.text,n.from.x,n.from.y))}function S(){m.clearRect(0,0,u.width,u.height),m.lineWidth=4;for(const n of a)switch(m.strokeStyle=g(n.color),m.fillStyle=g(n.color),m.setLineDash([]),n.type){case"rect":b(n);continue;case"circle":x(n);continue;case"draw":k(n);continue;case"text":E(n);continue}!function(){if(void 0===n)return;const e=a[n];if(!e)return;const{x1:t,y1:o,x2:r,y2:i}=v(e);t&&o&&r&&i&&(m.strokeStyle=g("--red"),m.setLineDash([5,5]),m.strokeRect(t,o,r-t,i-o))}()}function L(t){let o=f(t);const r=d();if(!r||void 0===n)return;if("mouse"===r&&A)return void function(e){const t=f(e),o=a[n];if(!t||!o)return;const[r,i]=[t.x-A.x,t.y-A.y];if("rect"===o.type||"circle"===o.type)a[n]={...o,from:{x:o.from.x+r,y:o.from.y+i},to:{x:o.to.x+r,y:o.to.y+i}};else if("draw"===o.type){const e=o.path.map((n=>({x:n.x+r,y:n.y+i})));a[n]={...o,from:{x:o.from.x+r,y:o.from.y+i},path:e}}else"text"===o.type&&(a[n]={...o,from:{x:o.from.x+r,y:o.from.y+i}});A=t}(t);let i=a[n];if("rect"!==r&&"circle"!==r){if("draw"===r){let t;if(i.path){t=i.path;let n=i.path[i.path.length-1];if(Math.hypot(o.x-n.x,o.y-n.y)<10)return}else t=[o];e?t[t.length-1]=o:t.push(o),a[n]={...i,path:t}}}else a[n]={...i,to:o,shiftLocked:e}}let A;u.addEventListener("mousedown",(function(e){!function(e){const o=f(e),r=d();["rect","circle","draw","text"].includes(r)?(a.push({type:r,color:t,from:o}),n=a.length-1):"mouse"===r&&(A=o,n=function(n){const{x:e,y:t}=f(n),[o,r]=[e,t];let i;for(const[n,e]of a.map(((n,e)=>[n,e]))){const{x1:t,y1:a,x2:c,y2:s}=v(n);if(!(t&&a&&c&&s))return;const l=h(o,t,c),d=h(r,a,s);l&&d&&(i=e)}return i}(e)),S()}(e)})),u.addEventListener("mouseup",(function(e){A=void 0,function(e){L(e);const t=d();"text"!=t&&("mouse"!=t&&(n=void 0),localStorage.setItem(o,JSON.stringify(a)))}(e)})),u.addEventListener("mousemove",(function(n){L(n),S()})),document.getElementById("color-select-btn").addEventListener("click",(function(){l.style.display="flex"})),document.getElementById("erase-select-btn").addEventListener("click",(function(){a.splice(0,a.length),localStorage.removeItem(o),S()})),window.addEventListener("keyup",(function(n){"Shift"===n.key&&(e=!1)})),window.addEventListener("keydown",(function(t){let r=a[n];const i=d();if("mouse"===i&&null!=n&&"Delete"===t.key)return a.splice(n,1),n=void 0,localStorage.setItem(o,JSON.stringify(a)),void S();if("text"===i||r&&"text"===r.type){if("Enter"===t.key)return n=void 0,localStorage.setItem(o,JSON.stringify(a)),void S();const e=n;if(!r&&(n=a.length-1,r=a[n],"text"!=r.type))return;let i=r.text??"";return"Backspace"===t.key&&i.length>0?i=i.slice(0,-1):1===t.key.length&&(i+=t.key),a[n]={...r,text:i},S(),void(n=e)}"Shift"===t.key&&(e=!0)})),S()}))})()})();